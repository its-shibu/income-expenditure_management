{% extends 'layouts.html' %}
{% load crispy_forms_tags %}
{% load static %}


{% block title %}
<title>Expense Tracker | Log New Expense</title>
{% endblock %}

{% block main_content %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<div class="container">
    <!-- Modern Glassmorphism Design -->
    <div class="glass-card mx-auto my-5" data-aos="flip-left">
        <!-- Header with Icon -->
        <div class="text-center mb-4">
            <h2 class="fw-bold text-dark">Record New Income</h2>
            <p class="text-muted">Fill in your income details below</p>
        </div>

        <span>
            {% for msg in messages %}
            {% if msg.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <div class="alert alert-success">
                {{ msg }}
            </div>
            {% endif %}
            {% if msg.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            <div class="alert alert-error">
                {{ msg }}
            </div>
            {% endif %}
            {% endfor %}
        </span>

        <!-- Form Section -->
        <form method="post" class="px-lg-4">
            {% csrf_token %}
            
            <!-- Crispy Form with Custom Styling -->
            <div class="form-group mb-4">
                {{ form|crispy }}
            </div>

            <!-- Action Buttons -->
            <div class="d-grid gap-3 d-md-flex justify-content-md-end mt-4">
                <a href="{% url 'dashboard' %}" class="btn btn-light px-4">
                    <i class="fa-solid fa-gauge"></i> &nbsp; Dashboard
                </a>
                <button type="submit" class="btn btn-primary-gradient px-4">
                    <i class="fas fa-check me-2"></i>Save Income
                </button>
            </div>
        </form>
    </div>
</div>

{% endblock %}